{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate,useLocation}from'react-router-dom';import axios from'axios';import MonteurDashboard from'./components/MonteurDashboard';import BueroDashboard from'./components/BueroDashboard';import'./App.css';// API Base URL für Production/Development\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.NODE_ENV==='production'?'https://zeiterfassung-app.azurewebsites.net':'http://localhost:8080';// Globale axios-Konfiguration für Session-Cookies\naxios.defaults.withCredentials=true;// Login Component\nfunction Login(_ref){let{onLogin,testResult}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{console.log('Sending login request...');const response=await axios.post(`${API_BASE_URL}/api/auth/login`,{email,password},{withCredentials:true});console.log('Login response:',response.data);if(response.data.success&&response.data.user){onLogin(response.data.user);setError('');// Navigate directly to the correct dashboard\nif(response.data.user.role==='monteur'){navigate('/monteur',{replace:true});}else if(response.data.user.role==='buero'){navigate('/buero',{replace:true});}else{navigate('/',{replace:true});}}else{setError('Login fehlgeschlagen - keine Benutzerdaten erhalten');}}catch(error){var _error$response,_error$response$data;console.error('Login error:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Login fehlgeschlagen');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-logo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo-text\",children:\"LA\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Lackner Aufz\\xFCge\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Zeiterfassung System\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"backend-status\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Backend Status:\"}),\" \",testResult]}),/*#__PURE__*/_jsx(\"h2\",{className:\"login-heading\",children:\"Anmelden\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login-subtitle\",children:\"Melden Sie sich mit Ihren Zugangsdaten an\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"text\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"monteur\",required:true,className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Passwort\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"monteur\",required:true,className:\"form-input\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"login-button\",children:loading?'Anmelden...':'Anmelden'}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-accounts\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Test-Accounts:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"account-list\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Monteur:\"}),\" monteur / monteur\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"B\\xFCro:\"}),\" buero / buero\"]})]})]})]})]})});}// Protected Route Component\nfunction ProtectedRoute(_ref2){let{user,children}=_ref2;if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;}// Dashboard Router Component\nfunction DashboardRouter(_ref3){let{user,onLogout}=_ref3;const navigate=useNavigate();const location=useLocation();// Redirect based on user role\nuseEffect(()=>{if(user){if(user.role==='monteur'&&location.pathname==='/'){navigate('/monteur',{replace:true});}else if(user.role==='buero'&&location.pathname==='/'){navigate('/buero',{replace:true});}}},[user,navigate,location.pathname]);const handleLogout=async()=>{await onLogout();navigate('/login',{replace:true});};return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/monteur\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsx(MonteurDashboard,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/buero\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsx(BueroDashboard,{user:user,onLogout:handleLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Lackner Aufz\\xFCge\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-btn\",children:\"Abmelden\"})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Willkommen, \",user===null||user===void 0?void 0:user.name,\"!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dashboard f\\xFCr \",user===null||user===void 0?void 0:user.role,\" wird implementiert...\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/monteur'),className:\"btn btn-primary\",style:{marginRight:'1rem'},children:\"Monteur Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/buero'),className:\"btn btn-primary\",children:\"B\\xFCro Dashboard\"})]})]})})]})})})]});}// Main App Component\nfunction App(){const[user,setUser]=useState(null);const[testResult,setTestResult]=useState('');const[authChecked,setAuthChecked]=useState(false);useEffect(()=>{checkAuthStatus();testBackend();},[]);const testBackend=async()=>{try{const response=await axios.get(`${API_BASE_URL}/health`);setTestResult(`Backend OK: ${response.data.status}`);}catch(error){setTestResult(`Backend Error: ${error.message}`);}};const checkAuthStatus=async()=>{try{const response=await axios.get(`${API_BASE_URL}/api/auth/me`,{withCredentials:true});if(response.data.success&&response.data.user){setUser(response.data.user);}else{setUser(null);}}catch(error){console.log('Nicht angemeldet:',error.message);setUser(null);}finally{setAuthChecked(true);}};const handleLogin=userData=>{setUser(userData);};const handleLogout=async()=>{try{await axios.post(`${API_BASE_URL}/api/auth/logout`,{},{withCredentials:true});}catch(error){console.error('Logout error:',error);}finally{setUser(null);}};// Show loading while checking auth\nif(!authChecked){return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lackner Aufz\\xFCge\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Zeiterfassung System\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'2rem'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Lade...\"})})]})});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,testResult:testResult})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(DashboardRouter,{user:user,onLogout:handleLogout})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","useLocation","axios","MonteurDashboard","BueroDashboard","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","NODE_ENV","defaults","withCredentials","Login","_ref","onLogin","testResult","email","setEmail","password","setPassword","loading","setLoading","error","setError","navigate","handleSubmit","e","preventDefault","console","log","response","post","data","success","user","role","replace","_error$response","_error$response$data","className","children","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","ProtectedRoute","_ref2","to","DashboardRouter","_ref3","onLogout","location","pathname","handleLogout","path","element","name","onClick","style","marginTop","marginRight","App","setUser","setTestResult","authChecked","setAuthChecked","checkAuthStatus","testBackend","get","status","message","handleLogin","userData","textAlign","padding"],"sources":["/Users/robertlackner/zeiterfassung-clean/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport MonteurDashboard from './components/MonteurDashboard';\nimport BueroDashboard from './components/BueroDashboard';\nimport './App.css';\n\n// API Base URL für Production/Development\nconst API_BASE_URL = process.env.NODE_ENV === 'production' \n  ? 'https://zeiterfassung-app.azurewebsites.net' \n  : 'http://localhost:8080';\n\n// Globale axios-Konfiguration für Session-Cookies\naxios.defaults.withCredentials = true;\n\n// Login Component\nfunction Login({ onLogin, testResult }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      console.log('Sending login request...');\n      const response = await axios.post(`${API_BASE_URL}/api/auth/login`, {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n\n      console.log('Login response:', response.data);\n      if (response.data.success && response.data.user) {\n        onLogin(response.data.user);\n        setError('');\n        \n        // Navigate directly to the correct dashboard\n        if (response.data.user.role === 'monteur') {\n          navigate('/monteur', { replace: true });\n        } else if (response.data.user.role === 'buero') {\n          navigate('/buero', { replace: true });\n        } else {\n          navigate('/', { replace: true });\n        }\n      } else {\n        setError('Login fehlgeschlagen - keine Benutzerdaten erhalten');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setError(error.response?.data?.error || 'Login fehlgeschlagen');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form-container\">\n        <div className=\"login-header\">\n          <div className=\"login-logo\">\n            <div className=\"logo-text\">LA</div>\n          </div>\n          <h1>Lackner Aufzüge</h1>\n          <p>Zeiterfassung System</p>\n        </div>\n\n        <div className=\"backend-status\">\n          <strong>Backend Status:</strong> {testResult}\n        </div>\n\n        <h2 className=\"login-heading\">Anmelden</h2>\n        <p className=\"login-subtitle\">Melden Sie sich mit Ihren Zugangsdaten an</p>\n\n        <form onSubmit={handleSubmit} className=\"login-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">E-Mail</label>\n            <input\n              id=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"monteur\"\n              required\n              className=\"form-input\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Passwort</label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"monteur\"\n              required\n              className=\"form-input\"\n            />\n          </div>\n\n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n\n          <button type=\"submit\" disabled={loading} className=\"login-button\">\n            {loading ? 'Anmelden...' : 'Anmelden'}\n          </button>\n\n          <div className=\"test-accounts\">\n            <h3>Test-Accounts:</h3>\n            <div className=\"account-list\">\n              <div><strong>Monteur:</strong> monteur / monteur</div>\n              <div><strong>Büro:</strong> buero / buero</div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Protected Route Component\nfunction ProtectedRoute({ user, children }) {\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  return children;\n}\n\n// Dashboard Router Component\nfunction DashboardRouter({ user, onLogout }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Redirect based on user role\n  useEffect(() => {\n    if (user) {\n      if (user.role === 'monteur' && location.pathname === '/') {\n        navigate('/monteur', { replace: true });\n      } else if (user.role === 'buero' && location.pathname === '/') {\n        navigate('/buero', { replace: true });\n      }\n    }\n  }, [user, navigate, location.pathname]);\n\n  const handleLogout = async () => {\n    await onLogout();\n    navigate('/login', { replace: true });\n  };\n\n  return (\n    <Routes>\n      <Route \n        path=\"/monteur\" \n        element={\n          <ProtectedRoute user={user}>\n            <MonteurDashboard user={user} onLogout={handleLogout} />\n          </ProtectedRoute>\n        } \n      />\n      <Route \n        path=\"/buero\" \n        element={\n          <ProtectedRoute user={user}>\n            <BueroDashboard user={user} onLogout={handleLogout} />\n          </ProtectedRoute>\n        } \n      />\n      <Route \n        path=\"/\" \n        element={\n          <ProtectedRoute user={user}>\n            <div className=\"app\">\n              <header className=\"header\">\n                <div className=\"logo-container\">\n                  <h1>Lackner Aufzüge</h1>\n                </div>\n                <div className=\"user-info\">\n                  <span>{user?.name}</span>\n                  <button onClick={handleLogout} className=\"logout-btn\">Abmelden</button>\n                </div>\n              </header>\n              <main className=\"main\">\n                <div className=\"dashboard\">\n                  <h2>Willkommen, {user?.name}!</h2>\n                  <p>Dashboard für {user?.role} wird implementiert...</p>\n                  <div style={{marginTop: '2rem'}}>\n                    <button \n                      onClick={() => navigate('/monteur')} \n                      className=\"btn btn-primary\"\n                      style={{marginRight: '1rem'}}\n                    >\n                      Monteur Dashboard\n                    </button>\n                    <button \n                      onClick={() => navigate('/buero')} \n                      className=\"btn btn-primary\"\n                    >\n                      Büro Dashboard\n                    </button>\n                  </div>\n                </div>\n              </main>\n            </div>\n          </ProtectedRoute>\n        } \n      />\n    </Routes>\n  );\n}\n\n// Main App Component\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [testResult, setTestResult] = useState('');\n  const [authChecked, setAuthChecked] = useState(false);\n\n  useEffect(() => {\n    checkAuthStatus();\n    testBackend();\n  }, []);\n\n  const testBackend = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/health`);\n      setTestResult(`Backend OK: ${response.data.status}`);\n    } catch (error) {\n      setTestResult(`Backend Error: ${error.message}`);\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/auth/me`, {\n        withCredentials: true\n      });\n      if (response.data.success && response.data.user) {\n        setUser(response.data.user);\n      } else {\n        setUser(null);\n      }\n    } catch (error) {\n      console.log('Nicht angemeldet:', error.message);\n      setUser(null);\n    } finally {\n      setAuthChecked(true);\n    }\n  };\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(`${API_BASE_URL}/api/auth/logout`, {}, {\n        withCredentials: true\n      });\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      setUser(null);\n    }\n  };\n\n  // Show loading while checking auth\n  if (!authChecked) {\n    return (\n      <div className=\"login-container\">\n        <div className=\"login-form-container\">\n          <div className=\"login-header\">\n            <h1>Lackner Aufzüge</h1>\n            <p>Zeiterfassung System</p>\n          </div>\n          <div style={{textAlign: 'center', padding: '2rem'}}>\n            <p>Lade...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route \n          path=\"/login\" \n          element={\n            user ? <Navigate to=\"/\" replace /> : <Login onLogin={handleLogin} testResult={testResult} />\n          } \n        />\n        <Route \n          path=\"/*\" \n          element={<DashboardRouter user={user} onLogout={handleLogout} />} \n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}