{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate,useLocation}from'react-router-dom';import axios from'axios';import MonteurDashboard from'./components/MonteurDashboard';import BueroDashboard from'./components/BueroDashboard';import'./App.css';// API Base URL für Production/Development\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.NODE_ENV==='production'?'https://zeiterfassung-app.azurewebsites.net':'http://localhost:8080';// Globale axios-Konfiguration für Session-Cookies\naxios.defaults.withCredentials=true;// Login Component\nfunction Login(_ref){let{onLogin,testResult}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{console.log('Sending login request...');const response=await axios.post(`${API_BASE_URL}/api/auth/login`,{email,password},{withCredentials:true});console.log('Login response:',response.data);if(response.data.success&&response.data.user){onLogin(response.data.user);setError('');}else{setError('Login fehlgeschlagen - keine Benutzerdaten erhalten');}}catch(error){var _error$response,_error$response$data;console.error('Login error:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Login fehlgeschlagen');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-logo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo-text\",children:\"LA\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Lackner Aufz\\xFCge\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Zeiterfassung System\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"backend-status\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Backend Status:\"}),\" \",testResult]}),/*#__PURE__*/_jsx(\"h2\",{className:\"login-heading\",children:\"Anmelden\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login-subtitle\",children:\"Melden Sie sich mit Ihren Zugangsdaten an\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"text\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"monteur\",required:true,className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Passwort\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"monteur\",required:true,className:\"form-input\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"login-button\",children:loading?'Anmelden...':'Anmelden'}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-accounts\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Test-Accounts:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"account-list\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Monteur:\"}),\" monteur / monteur\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"B\\xFCro:\"}),\" buero / buero\"]})]})]})]})]})});}// Protected Route Component\nfunction ProtectedRoute(_ref2){let{user,children}=_ref2;if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;}// Dashboard Router Component\nfunction DashboardRouter(_ref3){let{user,onLogout}=_ref3;const navigate=useNavigate();const location=useLocation();// Redirect based on user role\nuseEffect(()=>{if(user){if(user.role==='monteur'&&location.pathname==='/'){navigate('/monteur',{replace:true});}else if(user.role==='buero'&&location.pathname==='/'){navigate('/buero',{replace:true});}}},[user,navigate,location.pathname]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/monteur\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsx(MonteurDashboard,{user:user,onLogout:onLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/buero\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsx(BueroDashboard,{user:user,onLogout:onLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{user:user,children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Lackner Aufz\\xFCge\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,className:\"logout-btn\",children:\"Abmelden\"})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Willkommen, \",user===null||user===void 0?void 0:user.name,\"!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dashboard f\\xFCr \",user===null||user===void 0?void 0:user.role,\" wird implementiert...\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/monteur'),className:\"btn btn-primary\",style:{marginRight:'1rem'},children:\"Monteur Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/buero'),className:\"btn btn-primary\",children:\"B\\xFCro Dashboard\"})]})]})})]})})})]});}// Main App Component\nfunction App(){const[user,setUser]=useState(null);const[testResult,setTestResult]=useState('');const[authChecked,setAuthChecked]=useState(false);useEffect(()=>{checkAuthStatus();testBackend();},[]);const testBackend=async()=>{try{const response=await axios.get(`${API_BASE_URL}/health`);setTestResult(`Backend OK: ${response.data.status}`);}catch(error){setTestResult(`Backend Error: ${error.message}`);}};const checkAuthStatus=async()=>{try{const response=await axios.get(`${API_BASE_URL}/api/auth/me`,{withCredentials:true});if(response.data.success&&response.data.user){setUser(response.data.user);}else{setUser(null);}}catch(error){console.log('Nicht angemeldet:',error.message);setUser(null);}finally{setAuthChecked(true);}};const handleLogin=userData=>{setUser(userData);};const handleLogout=async()=>{try{await axios.post(`${API_BASE_URL}/api/auth/logout`,{},{withCredentials:true});}catch(error){console.error('Logout error:',error);}finally{setUser(null);}};// Show loading while checking auth\nif(!authChecked){return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lackner Aufz\\xFCge\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Zeiterfassung System\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'2rem'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Lade...\"})})]})});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,testResult:testResult})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(DashboardRouter,{user:user,onLogout:handleLogout})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","useLocation","axios","MonteurDashboard","BueroDashboard","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","NODE_ENV","defaults","withCredentials","Login","_ref","onLogin","testResult","email","setEmail","password","setPassword","loading","setLoading","error","setError","handleSubmit","e","preventDefault","console","log","response","post","data","success","user","_error$response","_error$response$data","className","children","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","ProtectedRoute","_ref2","to","replace","DashboardRouter","_ref3","onLogout","navigate","location","role","pathname","path","element","name","onClick","style","marginTop","marginRight","App","setUser","setTestResult","authChecked","setAuthChecked","checkAuthStatus","testBackend","get","status","message","handleLogin","userData","handleLogout","textAlign","padding"],"sources":["/Users/robertlackner/zeiterfassung-clean/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport MonteurDashboard from './components/MonteurDashboard';\nimport BueroDashboard from './components/BueroDashboard';\nimport './App.css';\n\n// API Base URL für Production/Development\nconst API_BASE_URL = process.env.NODE_ENV === 'production' \n  ? 'https://zeiterfassung-app.azurewebsites.net' \n  : 'http://localhost:8080';\n\n// Globale axios-Konfiguration für Session-Cookies\naxios.defaults.withCredentials = true;\n\n// Login Component\nfunction Login({ onLogin, testResult }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      console.log('Sending login request...');\n      const response = await axios.post(`${API_BASE_URL}/api/auth/login`, {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n\n      console.log('Login response:', response.data);\n      if (response.data.success && response.data.user) {\n        onLogin(response.data.user);\n        setError('');\n      } else {\n        setError('Login fehlgeschlagen - keine Benutzerdaten erhalten');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setError(error.response?.data?.error || 'Login fehlgeschlagen');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form-container\">\n        <div className=\"login-header\">\n          <div className=\"login-logo\">\n            <div className=\"logo-text\">LA</div>\n          </div>\n          <h1>Lackner Aufzüge</h1>\n          <p>Zeiterfassung System</p>\n        </div>\n\n        <div className=\"backend-status\">\n          <strong>Backend Status:</strong> {testResult}\n        </div>\n\n        <h2 className=\"login-heading\">Anmelden</h2>\n        <p className=\"login-subtitle\">Melden Sie sich mit Ihren Zugangsdaten an</p>\n\n        <form onSubmit={handleSubmit} className=\"login-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">E-Mail</label>\n            <input\n              id=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"monteur\"\n              required\n              className=\"form-input\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Passwort</label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"monteur\"\n              required\n              className=\"form-input\"\n            />\n          </div>\n\n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n\n          <button type=\"submit\" disabled={loading} className=\"login-button\">\n            {loading ? 'Anmelden...' : 'Anmelden'}\n          </button>\n\n          <div className=\"test-accounts\">\n            <h3>Test-Accounts:</h3>\n            <div className=\"account-list\">\n              <div><strong>Monteur:</strong> monteur / monteur</div>\n              <div><strong>Büro:</strong> buero / buero</div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Protected Route Component\nfunction ProtectedRoute({ user, children }) {\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  return children;\n}\n\n// Dashboard Router Component\nfunction DashboardRouter({ user, onLogout }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Redirect based on user role\n  useEffect(() => {\n    if (user) {\n      if (user.role === 'monteur' && location.pathname === '/') {\n        navigate('/monteur', { replace: true });\n      } else if (user.role === 'buero' && location.pathname === '/') {\n        navigate('/buero', { replace: true });\n      }\n    }\n  }, [user, navigate, location.pathname]);\n\n  return (\n    <Routes>\n      <Route \n        path=\"/monteur\" \n        element={\n          <ProtectedRoute user={user}>\n            <MonteurDashboard user={user} onLogout={onLogout} />\n          </ProtectedRoute>\n        } \n      />\n      <Route \n        path=\"/buero\" \n        element={\n          <ProtectedRoute user={user}>\n            <BueroDashboard user={user} onLogout={onLogout} />\n          </ProtectedRoute>\n        } \n      />\n      <Route \n        path=\"/\" \n        element={\n          <ProtectedRoute user={user}>\n            <div className=\"app\">\n              <header className=\"header\">\n                <div className=\"logo-container\">\n                  <h1>Lackner Aufzüge</h1>\n                </div>\n                <div className=\"user-info\">\n                  <span>{user?.name}</span>\n                  <button onClick={onLogout} className=\"logout-btn\">Abmelden</button>\n                </div>\n              </header>\n              <main className=\"main\">\n                <div className=\"dashboard\">\n                  <h2>Willkommen, {user?.name}!</h2>\n                  <p>Dashboard für {user?.role} wird implementiert...</p>\n                  <div style={{marginTop: '2rem'}}>\n                    <button \n                      onClick={() => navigate('/monteur')} \n                      className=\"btn btn-primary\"\n                      style={{marginRight: '1rem'}}\n                    >\n                      Monteur Dashboard\n                    </button>\n                    <button \n                      onClick={() => navigate('/buero')} \n                      className=\"btn btn-primary\"\n                    >\n                      Büro Dashboard\n                    </button>\n                  </div>\n                </div>\n              </main>\n            </div>\n          </ProtectedRoute>\n        } \n      />\n    </Routes>\n  );\n}\n\n// Main App Component\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [testResult, setTestResult] = useState('');\n  const [authChecked, setAuthChecked] = useState(false);\n\n  useEffect(() => {\n    checkAuthStatus();\n    testBackend();\n  }, []);\n\n  const testBackend = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/health`);\n      setTestResult(`Backend OK: ${response.data.status}`);\n    } catch (error) {\n      setTestResult(`Backend Error: ${error.message}`);\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/auth/me`, {\n        withCredentials: true\n      });\n      if (response.data.success && response.data.user) {\n        setUser(response.data.user);\n      } else {\n        setUser(null);\n      }\n    } catch (error) {\n      console.log('Nicht angemeldet:', error.message);\n      setUser(null);\n    } finally {\n      setAuthChecked(true);\n    }\n  };\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(`${API_BASE_URL}/api/auth/logout`, {}, {\n        withCredentials: true\n      });\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      setUser(null);\n    }\n  };\n\n  // Show loading while checking auth\n  if (!authChecked) {\n    return (\n      <div className=\"login-container\">\n        <div className=\"login-form-container\">\n          <div className=\"login-header\">\n            <h1>Lackner Aufzüge</h1>\n            <p>Zeiterfassung System</p>\n          </div>\n          <div style={{textAlign: 'center', padding: '2rem'}}>\n            <p>Lade...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route \n          path=\"/login\" \n          element={\n            user ? <Navigate to=\"/\" replace /> : <Login onLogin={handleLogin} testResult={testResult} />\n          } \n        />\n        <Route \n          path=\"/*\" \n          element={<DashboardRouter user={user} onLogout={handleLogout} />} \n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}